<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Quiz</title>
    <link rel="stylesheet" href="./styles.css">
    <script src="./js/js-confetti.browser.js" defer></script>
</head>
<body>

    <main>

        <p id="name"><a href="./index.html">Accueil</a><span></span></p>
        <h1 id="q"></h1>

        <section id="alist">
            <label for="a0">
                <a href="#" target="_blank" title="Documentation MDN">ðŸ”—</a>
                <span class="label"></span>
                <span class="info hidden"></span>
                <input type="radio" id="a0" name="a" value="">
            </label>
            <label for="a1">
                <a href="#" target="_blank" title="Documentation MDN">ðŸ”—</a>
                <span class="label"></span>
                <span class="info hidden"></span>
                <input type="radio" id="a1" name="a" value="">
            </label>
            <label for="a2">
                <a href="#" target="_blank" title="Documentation MDN">ðŸ”—</a>
                <span class="label"></span>
                <span class="info hidden"></span>
                <input type="radio" id="a2" name="a" value="">
            </label>
            <label for="a3">
                <a href="#" target="_blank" title="Documentation MDN">ðŸ”—</a>
                <span class="label"></span>
                <span class="info hidden"></span>
                <input type="radio" id="a3" name="a" value="">
            </label>
        </section>

        <div id="buttons">
            <button id="validate">Valider</button>
            <button id="next" class="hidden">Question suivante</button>
            <button id="play-again" class="hidden">Rejouer</button>
        </div>

        <div id="cursor"></div>

    </main>

    <div id="end-sentence" class="hidden"></div>

    <script type="module">
        import { quiz } from './js/quiz.js';
        
        import dataTags from './js/data-tags.js';
        import dataAttributes from './js/data-attributes.js';

        import configBasics from './js/data-quiz/00-data-basics.js';
        import configSemantic from './js/data-quiz/01-data-semantic.js';
        import configTable from './js/data-quiz/02-data-table.js';
        import configForm from './js/data-quiz/03-data-form.js';
        import configMega from './js/data-quiz/04-data-mega.js';
        import configAttributes from './js/data-quiz/05-data-attributes.js';

        const quizList = {
            basics:     { config: configBasics, data: dataTags},
            semantic:   { config: configSemantic, data: dataTags},
            table:      { config: configTable, data: dataTags},
            form:       { config: configForm, data: dataTags},
            mega:       { config: configMega, data: dataTags},
            attributes: { config: configAttributes, data: dataAttributes},
        };

        const urlParams = new URLSearchParams(window.location.search);
        const q = urlParams.get('q');

        if (q && quizList[q.toLowerCase()]) {
            const conf = quizList[q.toLowerCase()];
            console.log(conf);
            quiz.init(conf.config, conf.data);
        } else {
            document.location.href = './index.html';
        }
    </script>

    
</body>
</html>